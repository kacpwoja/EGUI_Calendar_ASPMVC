@{
    ViewData["Title"] = "Home Page";
}
@functions
{
    // Gets the previous month
    public object GetPreviousMonth()
    {
        var year = int.Parse(Context.Request.Query["year"].ToString());
        var month = int.Parse(Context.Request.Query["month"].ToString());

        month--;
        if(month <= 0)
        {
            year--;
            month = 12;
        }

        return new
        {
            year,
            month
        };
    }

    // Gets the next month
    public object GetNextMonth()
    {
        var year = int.Parse(Context.Request.Query["year"].ToString());
        var month = int.Parse(Context.Request.Query["month"].ToString());

        month++;
        if (month >= 12)
        {
            year++;
            month = 1;
        }

        return new
        {
            year,
            month
        };
    }

    // Gets the selected date
    public object GetDate(int day)
    {
        var year = int.Parse(Context.Request.Query["year"].ToString());
        var month = int.Parse(Context.Request.Query["month"].ToString());

        return new
        {
            year,
            month,
            day
        };
    }
}
<!-- Calendar Header - title and navigation -->
<div class="row bg2">
    <div class="col">
        <a class="hyperlink" href=@Url.Action("Index", GetPreviousMonth())>
            <div class="text-chonker text-left">
                <
            </div>
        </a>
    </div>
    <div class="col text-chonker text-center">@Model.Title</div>
    <div class="col">
        <a class="hyperlink" href=@Url.Action("Index", GetNextMonth())>
            <div class="text-chonker text-right">
                >
            </div>
        </a>
    </div>
</div>
<!-- Calendar Header - Day Names -->
<div class="row bg3">
    <div class="col text-chonk">Mon</div>
    <div class="col text-chonk">Tue</div>
    <div class="col text-chonk">Wed</div>
    <div class="col text-chonk">Thu</div>
    <div class="col text-chonk">Fri</div>
    <div class="col text-chonk">Sat</div>
    <div class="col text-chonk calendar-day-sun">Sun</div>
</div>
<!-- Calendar Body -->
<div class="row">
    <div class="col">
        @for (var i = 0; i < 6; i++)
        {
            <div class="row">
                @for (var j = 0; j < 7; j++)
                {
                    var index = i * 7 + j + 1;
                    var day = index - Model.Offset + 1;

                    <div class="col">
                        @if (index >= Model.Offset && index < Model.Offset + Model.Days)
                        {
                            <a class="hyperlink" href=@Url.Action("Day")>
                                <div class="w-100 h-100 text-chonk calendar-day">
                                    @day
                                </div>
                            </a>
                        }
                    </div>
                }
            </div>
        }
    </div>
</div>